FROM quay.io/fedora-ostree-desktops/silverblue:42
ARG FEDORA_VER=42
ENV FEDORA_VER=${FEDORA_VER}

# RUN ostree container commit

# install rpmfusion release RPMs first so repos are available
RUN rpm-ostree install \
  "https://mirrors.rpmfusion.org/free/fedora/rpmfusion-free-release-${FEDORA_VER}.noarch.rpm" \
  "https://mirrors.rpmfusion.org/nonfree/fedora/rpmfusion-nonfree-release-${FEDORA_VER}.noarch.rpm"

RUN rpm-ostree install \
    gnome-tweaks \
    stow \
    git \
    openssl \
    openssl-devel \
    kitty \
    distrobox \
    openconnect \
    cifs-utils \
    vim-enhanced \
    neovim \
    xclip \
    tmux \
    fzf \
    atuin \
    akmod-nvidia \
    xorg-x11-drv-nvidia-cuda \
    nvidia-settings \
    xorg-x11-drv-nvidia-cuda-libs

# RUN gem install tmuxinator
